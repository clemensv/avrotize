package {{ base_package }}

import (
    "testing"
    {%- if json_annotation %}
    "encoding/json"
    {%- endif %}
)

func Test{{ struct_name }}(t *testing.T) {
    {%- if kind == 'struct' %}
    instance := random{{ struct_name }}()
    
    {%- if json_annotation %}
    // Test JSON marshaling
    data, err := json.Marshal(&instance)
    if err != nil {
        t.Fatalf("Failed to marshal {{ struct_name }}: %v", err)
    }
    
    // Test JSON unmarshaling
    var decoded {{ struct_name }}
    err = json.Unmarshal(data, &decoded)
    if err != nil {
        t.Fatalf("Failed to unmarshal {{ struct_name }}: %v", err)
    }
    {%- endif %}
    {%- elif kind == 'enum' %}
    // Test enum values
    {%- for symbol in fields %}
    _ = {{ struct_name }}_{{ symbol }}
    {%- endfor %}
    {%- endif %}
}
